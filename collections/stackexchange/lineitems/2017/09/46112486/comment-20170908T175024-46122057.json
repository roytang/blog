{"id": 46122057, "name": "ehennum", "url": "https://stackoverflow.com/users/1091497/ehennum", "text": "Optimistic locking doesn't look at the content of the document. Instead, the version id is a system value reflecting the timestamp on the document.  Checking the timestamp is more efficient than reading the document content.\r\n\r\nYou could write a POST resource service extension that \r\n\r\n*  receives the update content\r\n*  reads the document and checks that assignTo/ assignDate haven't changed\r\n*  does an xdmp:node-replace() on the root of the document with the update content\r\n\r\nHoping that helps,\r\n", "date": "2017-09-08 17:50:24", "photo": "https://www.gravatar.com/avatar/293bdd8ee3ce350e5de5e2e7a705db59?s=128&d=identicon&r=PG", "source_url": "https://stackoverflow.com/questions/46112486/marklogic-node-js-conditional-updates-using-fields-other-than-versionid", "mention_url": "https://stackoverflow.com/questions/46112486/marklogic-node-js-conditional-updates-using-fields-other-than-versionid", "source": "stackexchange"}